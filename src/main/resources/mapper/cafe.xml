<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.project.pincafe.cafe.CafeDAO">

<resultMap type="com.project.pincafe.cafe.CafeDAO" id="cafeMap">
    <result property="cafe_no"      column="cafe_no"/>
    <result property="cafe_name"    column="cafe_name"/>
    <result property="cafe_addr"    column="cafe_addr"/>
    <result property="cafe_like"    column="cafe_like"/>
    <result property="category_no"  column="category_no"/>
    <result property="comment_no"   column="comment_no"/>
</resultMap>

<select id="selectcafeRowCount" resultType="integer">
    SELECT COUNT(*) FROM CAFE_TBL    
</select>

<select id="selectcafeList" resultMap="cafeMap">
    SELECT * FROM (SELECT rownum RN, CAFE_TBL.* FROM CAFE_TBL) 
    WHERE RN <![CDATA[>=]]> (#{page} * #{rowsPerPage}) + 1 AND 
          RN <![CDATA[<=]]> (#{page} + 1) * #{rowsPerPage}    
</select>

</mapper>